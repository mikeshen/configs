# General Options {{{1
set -g repeat-time 0
set -g set-clipboard off # no more gibberish in the terminal

# Create non-login shells by default
set-option -g default-command "reattach-to-user-namespace -l /bin/zsh -i"
# Start counting windows from 1, 0 is to far away
set -g base-index 1
# Timeout of pane numbers
set -g display-panes-time 2500
# monitoring
set -g monitor-activity on
set -g visual-activity on
set -g window-status-activity-attr bold

# Keybindings {{{1
# change prefix to Space
unbind C-b
set -g prefix C-space

setw -g mode-keys vi # Use vi mode keys
set -g mouse on # mouse mode

# Resize a split like in vim
unbind-key M-k ; bind-key -n M-k resize-pane -U 8
unbind-key M-j ; bind-key -n M-j resize-pane -D 8
unbind-key M-h ; bind-key -n M-h resize-pane -L 13
unbind-key M-l ; bind-key -n M-l resize-pane -R 13

# y and p same behavior as in vim
unbind Space
bind Space copy-mode
unbind p
bind p paste-buffer
bind -t vi-copy v begin-selection
bind -t vi-copy C-v rectangle-toggle

bind-key r source-file ~/.tmux.conf # Reload Easily
bind-key x kill-pane # no more confirming for kill pane
bind-key v split-window -h # easier splits
bind-key h split-window # easier horizontal splits

source ~/.tmuxline # tmux line colors

# TPM Plugin Manager {{{1

# list of plugins

# general
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible' # sensible tmux settings that everyone can agree on
set -g @plugin 'christoomey/vim-tmux-navigator' # navigate more easily between vim/tmux splits/panes respectively
set -g @plugin 'tmux-plugins/tmux-resurrect' # restore tmux panes/splits etc
set -g @plugin 'tmux-plugins/tmux-yank' # yank / copy to system clipboard
set -g @plugin 'tmux-plugins/tmux-copycat' # enhances tmux search
set -g @plugin 'tmux-plugins/tmux-open' # enhances tmux search
set -g @plugin 'nhdaly/tmux-better-mouse-mode' # better mouse support, allows scrollup copying

# statusline modifiers
set -g @plugin 'tmux-plugins/tmux-cpu' # cpu indicator
set -g @plugin 'tmux-plugins/tmux-battery' # battery indicator
set -g @plugin 'tmux-plugins/tmux-prefix-highlight' # prefix mode indicator

# plugin settings
set -g @continuum-restore 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
