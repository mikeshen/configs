# General Options {{{1
set -g repeat-time 0 # no key repeat when navigating between panes
set -g set-clipboard off # no more gibberish in the terminal
set -g base-index 1 # Start counting windows from 1, 0 is to far away
set -g display-panes-time 2500 # Timeout of pane numbers

# monitoring
set -g monitor-activity on
set -g visual-activity on
set -g window-status-activity-attr bold

# Keybindings {{{1
# change prefix to Space
unbind C-b
set -g prefix C-space

setw -g mode-keys vi # Use vi mode keys
set -g mouse on # mouse mode

# Resize splits with the Meta-jkl; keys
unbind-key M-k ; bind-key -n M-k resize-pane -U 5
unbind-key M-j ; bind-key -n M-j resize-pane -D 5
unbind-key M-h ; bind-key -n M-h resize-pane -L 10
unbind-key M-l ; bind-key -n M-l resize-pane -R 10

# y and p same behavior as in vim
# usage: press prefix space to enter copy mode, vi-keybindings to navigate,
#        v to enter visual select mode, y to yank and either CMD+p or prefix p to paste
#
#        rectangular toggle mode can be triggered as well in copy-mode w/
#        <C-v> + space, followed by the selection and a yank
unbind Space
bind Space copy-mode
unbind p
bind p paste-buffer
bind -t vi-copy v begin-selection
bind -t vi-copy C-v rectangle-toggle

bind-key r source-file ~/.tmux.conf # Reload tmux.conf easily
bind-key x kill-pane # no more confirming for kill pane
bind-key v split-window -h # easier splits
bind-key h split-window # easier horizontal splits

source ~/.tmuxline # for statusline colors + settings

# TPM Plugin Manager {{{1

# list of plugins

# general
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible' # sensible tmux settings that everyone can agree on
set -g @plugin 'christoomey/vim-tmux-navigator' # navigate more easily between vim/tmux splits/panes respectively
set -g @plugin 'tmux-plugins/tmux-resurrect' # restore tmux panes/splits etc
set -g @plugin 'tmux-plugins/tmux-yank' # yank / copy to system clipboard
set -g @plugin 'tmux-plugins/tmux-copycat' # enhances tmux search
set -g @plugin 'tmux-plugins/tmux-open' # enhances tmux search
set -g @plugin 'nhdaly/tmux-better-mouse-mode' # better mouse support, allows scrollup copying

# statusline modifiers
set -g @plugin 'tmux-plugins/tmux-prefix-highlight' # prefix mode indicator

# plugin settings
set -g @continuum-restore 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
